---
title: "30 días de gráficos con R"
author: "Maggie"
date: "12/5/2020"
output: html_document
---

# _30 días de gráficos con R_

Únete a este desafío de la comunidad hispanoablante de R y participa en #30díasdegráficos, una iniciativa para compartir y aprender sobre visualización de datos usando R.

El 12 de mayo se conmemora el nacimiento de Florence Nightingale, la enfermera creadora del diagrama de área polar y referente femenina de la visualización de datos.


```{r gráfico de barras o columnas, echo=FALSE}
# Cargar los paquetes requeridos
library(tidyverse)
```
## _Desafío Día 1: Gráfico de barras o columnas_

Para este desafío utilicé la base de datos de la WNBA proporcionada para la carrera de Analista de Datos en R de [Dataquest](https://www.dataquest.io/path/data-analyst-r/). Para más información sobre la WNBA [visitar](https://www.wnba.com/stats/player-stats/)

```{r gráfico de barras o columnas, echo=FALSE}
# Importar la base de datos
wnba <- read.csv("C:/Users/Maggie/OneDrive/aR/datos_de_miercoles/data/wnba.csv")

# Renombrando los niveles y etiquetas de las variables
wnba$Pos <- factor(wnba$Pos,levels = c("G", "F", "C", "G/F", "F/C"),
                   labels = c("Guard", "Forward", "Center", "Guard/Forward", "Forward/Center")) 

ggplot(data = wnba,
       aes(x = Pos, fill = Pos)) +
  geom_bar() + 
  coord_flip() + 
  theme_classic() +
  theme(legend.position = "none") +
  labs(x=NULL, y=NULL, fill=NULL,
         title="Posiciones de las jugadoras") 
  
pos_prop <- wnba %>% 
  group_by(Pos) %>% 
  summarize(Prop = n() / nrow(wnba))

ggplot(data = pos_prop, 
              aes(x = "", y = Prop, fill = Pos)) + 
  geom_bar(stat = "identity", width = 0.25) +
  coord_flip() +
  theme_classic() +
  geom_text(aes(label = str_c(round(Prop * 100), "%")), 
            position = position_stack(vjust = 0.5)) + 
  theme(axis.line = element_blank(),
          axis.text = element_blank(),
          axis.ticks = element_blank()) +
  labs(x = NULL, 
       y = NULL, 
       fill = NULL, 
       title = "Distribución de jugadoras según su posición") 
   
```
## _Desafío Día 2: Gráfico de líneas_

Para este desafío utilicé datos de [Gapminder](https://www.gapminder.org/data/), por medio del paquete creado por Jennifer Bryan.

Para cada uno de los 142 países, El paquete proporciona información sobre la expectativa de vida, el PIB per cápita y la población, generados cada cinco años, de 1952 a 2007.


El gráfico de líneas será sobre la evolución de la expectativa de vida de los Estados Partes del Mercosur.

```{r}
# Importar la base de datos Gapminder
library(gapminder)
```


```{r}

# filter(continent == "mercosur")
mercosur <- gapminder %>% 
  filter(country == "Argentina" | country == "Brazil" | country == "Paraguay" | country == "Uruguay") 

mercosur$country <- factor(mercosur$country,levels = c("Argentina", "Brazil", "Paraguay", "Uruguay"),
                   labels = c("Argentina", "Brasil", "Paraguay", "Uruguay")) 
  
ggplot(data = mercosur, aes(x = year, y = lifeExp, color = country)) +
  geom_line() + 
  geom_point() +
  theme_minimal() +
  labs(x = NULL, 
       y = NULL, 
       fill = NULL, 
       title = "Evolución de la expectativa de vida en los Estados Partes del Mercosur") 
```

## _Desafío Día 3: Gráfico de puntos o burbujas_

Para este desafío utilicé nuevamente la base de datos de [Gapminder](https://www.gapminder.org/data/), por medio del paquete creado por Jennifer Bryan.

El gráfico de burbujas representará la relación entre la expectativa de vida y el GDP por cápita.

```{r}
# Importar la base de datos Gapminder
# library(gapminder)
```

```{r}
data <- gapminder %>% 
  filter(year=="2007") %>% 
  select(-year) %>% 
  arrange(desc(pop)) %>%
  mutate(country = factor(country, country), 
         Continente = continent) 
  
 data$Continente <- factor(data$Continente,levels = c("Africa", "Americas", "Asia", "Europe", "Oceania"),
                    labels = c("África", "Américas", "Asia ", "Europa", "Oceanía"))

ggplot(data, aes(x = gdpPercap, y = lifeExp, size = pop, color = Continente)) +
  geom_point(alpha = 0.5) +
  scale_size(range = c(.1, 24), name = "Población (M)") +
  labs(x = "Gdp per Capita", 
       y = "Expectativa de vida", 
       title = "Expectativa de vida y GDP per capita según continente y población") +
  theme_bw()
```

